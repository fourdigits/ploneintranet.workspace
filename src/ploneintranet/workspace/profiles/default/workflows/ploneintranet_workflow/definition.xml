<?xml version="1.0"?>
<dc-workflow workflow_id="ploneintranet_workflow"
             title="Ploneintranet Workflow"
             description="The ploneintranet workflow."
             state_variable="review_state"
             initial_state="draft"
             manager_bypass="False">

  <permission>Access contents information</permission>
  <permission>List folder contents</permission>
  <permission>Modify portal content</permission>
  <permission>View</permission>

  <state state_id="draft"
         title="Draft">
    <permission-map name="Access contents information"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
    </permission-map>
    <permission-map name="List folder contents"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
    </permission-map>
    <permission-map name="Modify portal content"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
    </permission-map>
    <permission-map name="View"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
    </permission-map>
  </state>

  <state state_id="pending"
         title="Pending">
    <permission-map name="Access contents information"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
      <permission-role>Reviewer</permission-role>
    </permission-map>
    <permission-map name="List folder contents"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
      <permission-role>Reviewer</permission-role>
    </permission-map>    
    <permission-map name="View"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
      <permission-role>Reviewer</permission-role>
    </permission-map>
  </state>

  <state state_id="published"
         title="Published">
    <permission-map name="Access contents information"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
      <permission-role>TeamMember</permission-role>
      <permission-role>Reader</permission-role>
    </permission-map>
    <permission-map name="List folder contents"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
      <permission-role>TeamMember</permission-role>
      <permission-role>Reader</permission-role>
    </permission-map>    
    <permission-map name="View"
                    acquired="False">
      <permission-role>Manager</permission-role>
      <permission-role>Owner</permission-role>
      <permission-role>Site Administrator</permission-role>
      <permission-role>TeamManager</permission-role>
      <permission-role>TeamMember</permission-role>
      <permission-role>Reader</permission-role>
    </permission-map>
  </state>

</dc-workflow>
